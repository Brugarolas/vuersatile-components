import{o as u,y as h,z as f,r as d,T as l,_ as y}from"./framework.483dc0f8.js";const m={methods:{debounce(t,n=50){let e;return function(){return new Promise((i,a)=>{const o=this,c=arguments;clearTimeout(e),e=setTimeout(async()=>{try{const s=await t.apply(o,c);i(s)}catch(s){a(s)}},n)})}},once(t){let n=!1;return function(){if(n)return;n=!0;const e=this,i=arguments;t.apply(e,i)}}}};function p(t,n,e,i,a,o){return u(),h(l,{css:!1,duration:e.duration,onBeforeEnter:o.beforeEnter,onEnter:o.enter,onAfterEnter:o.afterEnter,onBeforeLeave:o.beforeLeave,onLeave:o.leave},{default:f(()=>[d(t.$slots,"default")]),_:3},8,["duration","onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave"])}const r=5,E={mixins:[m],props:{duration:{type:Number,default:250},usePositionStatic:{type:Boolean,default:!1}},created(){this.emitEnd=this.debounce(()=>{this.$emit("end")})},methods:{beforeEnter(t){this.usePositionStatic&&(t.style.position="static"),t.style.height=0,t.style.opacity=0},enter(t,n){const e=this.once(n);t.addEventListener("transitionend",e,!1);const i=t.scrollHeight;t.style.height=i+"px",t.style.opacity=1,setTimeout(e,this.duration+r)},afterEnter(t){t.style.removeProperty("height"),t.style.removeProperty("position"),this.emitEnd()},beforeLeave(t){this.usePositionStatic&&(t.style.position="static"),this.$nextTick(()=>{const n=t.getBoundingClientRect().height;t.style.height=n+"px",t.style.opacity=1})},leave(t,n){const e=this.once(n);t.addEventListener("transitionend",e,!1),setTimeout(()=>{t.style.height=0,t.style.opacity=0,t.style.removeProperty("position")},r),setTimeout(e,this.duration+r)}}},v=y(E,[["render",p]]);export{v as T};
