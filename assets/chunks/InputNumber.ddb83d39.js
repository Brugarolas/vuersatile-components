import{I as m}from"./Icon.dc8a3641.js";import"./TextareaBase.vue_vue_type_style_index_0_lang.04411fc4.js";import{D as r,o as a,c as h,G as c,A as l,C as u,_ as p}from"./framework.61f6be18.js";import{I as d}from"./InputBase.32253ba6.js";import"./Button.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./Card.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./Tooltip.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./LockedIcon.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./TooltipInfo.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./Tag.vue_vue_type_style_index_0_lang.4ed993c7.js";import{V as b}from"./validations-input.fb30a2a1.js";import"./InputNumber.vue_vue_type_style_index_0_lang.4ed993c7.js";const v={class:"input-number"};function f(e,t,n,g,_,i){const o=r("InputBase"),s=r("Icon");return a(),h("div",v,[c(o,{value:e.value,type:"number",name:e.name,label:e.label,icon:n.icon,iconVariant:n.iconVariant,iconSize:"s",error:e.shouldShowErrors?e.errorMessage:null,placeholder:n.placeholder,step:n.step,min:n.min,max:n.max,disabled:e.disabled,onInput:i.input,onChange:i.change},null,8,["value","name","label","icon","iconVariant","error","placeholder","step","min","max","disabled","onInput","onChange"]),i.showSumClasses?(a(),l(s,{key:0,class:"input-number__icon input-number__icon--left",icon:"minus",onClick:i.minus},null,8,["onClick"])):u("",!0),i.showSumClasses?(a(),l(s,{key:1,class:"input-number__icon input-number__icon--right",icon:"plus",onClick:i.plus},null,8,["onClick"])):u("",!0)])}const y={components:{InputBase:d,Icon:m},mixins:[b],props:{initialValue:{type:[String,Number],default:null},icon:{type:String,default:null},iconVariant:{type:String,validator:e=>!e||["solid","regular","light","thin","duotone","brands"].includes(e),default:"solid"},placeholder:{type:String,default:null},step:{type:[String,Number],default:"any"},min:{type:Number,default:null},max:{type:Number,default:null}},computed:{showSumClasses(){return!this.icon},hasMin(){return!!this.min||this.min===0},hasMax(){return!!this.max||this.max===0},realValidations(){return this.validations?this.validations.map(t=>t==="not-empty"?{name:t,errorMessage:"FORM.ERROR.NOT_EMPTY_NUMBER"}:t.name==="not-empty"?{...t,errorMessage:"FORM.ERROR.NOT_EMPTY_NUMBER"}:t):[]}},created(){this.convertInputToNumber(),this.validate()},methods:{plus(){const e=this.step==="any"?1:this.step;this.value=this.hasMax?Math.min(this.max,this.value+e):this.value+e},minus(){const e=this.step==="any"?1:this.step;this.value=this.hasMin?Math.max(this.min,this.value-e):this.value-e},shouldSetInitialValue(){return!!this.initialValue||this.initialValue===0},input(e){this.dirty=!0,this.convertInputToNumber(e.target.value),this.$emit("inputField",e.target.value),this.validate()},change(){this.dirty=!0,this.$emit("changeField",this.value)},convertInputToNumber(e){const t=e||this.value;if(!t||typeof t!="string"){this.value=t;return}const n=Number(t.replace(",","."));isNaN(n)||(this.value=n)}}},O=p(y,[["render",f]]);export{O as I};
