import{ab as a,l as t}from"./framework.2ef82e6b.js";const l=e=>a({component:e,name:e.name,element:e.$el,setValue(i){e.value=i},value:t(()=>e.disallowEmptyString&&e.value===""?null:e.value),isDisabled:t(()=>e.disabled),isValid:t(()=>e.isValid),valueHasChanged:t(()=>{if(!e.dirty)return!1;const i=!e.initialValue&&e.initialValue!==0,r=!e.value&&e.value!==0;return i&&r?!1:e.formatInitialValue()!==e.value}),setFormIsDirty(i=!0){e.formIsDirty=i},startShowingFieldErrors(i=!0){e.dirty=i,e.formIsDirty=i}}),u={inject:{$form:{default:null}},props:{name:{type:String,required:!0},label:{type:String,required:!1},initialValue:{type:[Object,String,Number,Boolean],required:!1},disabled:{type:Boolean,default:!1},useForm:{type:Boolean,default:!0},reseteable:{type:Boolean,default:!0}},data(){return{value:null,dirty:!1,formIsDirty:!1,disallowEmptyString:!1}},computed:{isValid(){return!0},field(){return l(this)},shouldShowErrors(){return this.dirty&&this.formIsDirty&&!this.isValid},hasError(){return this.shouldShowErrors&&!this.isValid},hasValue(){return!!this.value},isInsideForm(){return!!this.$form}},created(){if(this.shouldSetInitialValue()){const e=this.formatInitialValue();this.value=e}},mounted(){this.useForm&&this.$nextTick(()=>{this.isInsideForm&&this.$form.addField(this.field)})},unmounted(){this.useForm&&this.isInsideForm&&this.$form.removeField(this.name)},methods:{shouldSetInitialValue(){return!!this.initialValue},formatInitialValue(){return this.initialValue},resetValue(){return null},reset(){this.reseteable&&(this.value=this.resetValue(),this.dirty=!1,this.formIsDirty=!1,this.validate&&this.validate())}}};export{u as B};
