import"./chunks/Icon.vue_vue_type_style_index_0_lang.4ed993c7.js";import{D as f,o as i,c as C,t as _,C as b,z as n,E as v,a3 as q,G as e,B as t,J as x,N as T,n as g,_ as E,A as w,a as h,V as y}from"./chunks/framework.2ef82e6b.js";import"./chunks/TextareaBase.vue_vue_type_style_index_0_lang.4ed993c7.js";import{n as R}from"./chunks/index.ec15b88a.js";import{B as z}from"./chunks/Button.388429ea.js";import{I}from"./chunks/Icon.14f47361.js";import{T as S}from"./chunks/TransitionHeight.42bf1ec8.js";import{I as V}from"./chunks/InputText.334262bb.js";import"./chunks/InputTextarea.vue_vue_type_style_index_0_lang.4ed993c7.js";import{F as c}from"./chunks/Form.92c440b2.js";import{C as D}from"./chunks/Card.9fdd6421.js";import"./chunks/InputBase.7d275359.js";import"./chunks/validations-input.3cab52d2.js";import"./chunks/basic-input.d1a3a2b5.js";import"./chunks/Form.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./chunks/Card.vue_vue_type_style_index_0_lang.4ed993c7.js";const N=["data-field-name"],P=["for"],B={class:"input-textarea-base__wrapper"},H=["value","id"];function k(s,o,l,p,r,a){const u=f("TransitionHeight");return i(),C("div",{class:g(["input-textarea-base",[a.statusClass,a.disabledClass,a.focusClass]]),"data-field-name":a.fieldName},[l.label?(i(),C("label",{key:0,class:"input-textarea-base__label",for:a.fieldId},_(l.label),9,P)):b("",!0),n("div",B,[n("textarea",v({class:"input-textarea-base__input"},a.attributes,{value:l.value,ref:"input",id:l.label&&a.fieldId},q(a.listeners,!0)),null,16,H)]),e(u,null,{default:t(()=>[x(n("span",{class:"input-textarea-base__error-message"},_(l.error),513),[[T,a.hasErrorMessage]])]),_:1})],10,N)}const d="input-textarea-base",$={components:{Icon:I,Button:z,TransitionHeight:S},props:{value:{type:[String,Number],default:null},label:{type:String,default:null},error:{type:[String,Boolean],default:null},disabled:{type:Boolean,default:!1},allowReadOnly:{type:Boolean,default:!1}},data(){return{focus:!1,internalId:R()}},computed:{fieldName(){return this.$attrs.name},fieldId(){return`${this.fieldName||"input"}_${this.internalId}`},isTextarea(){return this.$attrs.type==="textarea"},hasErrorMessage(){return this.error&&typeof this.error=="string"},listeners(){return{focusin:()=>{this.setFocus(!0)},focusout:()=>{this.setFocus(!1)}}},attributes(){const{name:s,placeholder:o,disabled:l,cols:p,rows:r,maxlength:a}=this.$attrs;return{name:s,placeholder:o,disabled:l,cols:p,rows:r,maxlength:a}},status(){return this.error?"error":null},statusClass(){return this.status?`${d}--${this.status}`:null},disabledClass(){return this.disabled?`${d}--disabled`:null},focusClass(){return this.focus?`${d}--active`:null}},methods:{setFocus(s){this.disabled||(this.focus=s)},clickIconHandler(){this.$refs.input.focus(),this.$emit("iconClick")}}},O=E($,[["render",k]]);function W(s,o,l,p,r,a){const u=f("TextareaBase");return i(),w(u,{class:g(["input-textarea",[a.allowResizeClass,a.autoResizeClass]]),value:s.value,name:s.name,label:s.label,icon:s.icon,error:s.realError,placeholder:s.placeholder,rows:r.currentRows,disabled:s.disabled,onInput:a.input,onChange:s.change,onResize:a.doAutoResize},null,8,["value","class","name","label","icon","error","placeholder","rows","disabled","onInput","onChange","onResize"])}const A=17,m=2,M={components:{TextareaBase:O},mixins:[V],props:{allowResize:{type:Boolean,default:!1},autoResize:{type:Boolean,default:!0},rows:{type:Number,default:2}},data(){return{hasFocus:!1,currentRows:2}},created(){this.rows&&(this.currentRows=this.rows)},async mounted(){await this.$nextTick();const s=this.$el.querySelector(".input-textarea-base__input");this.autoResize&&this._doInitialAutoResize(s),this.allowResize&&new ResizeObserver(l=>{for(let p of l){const r=p.contentRect,a=p.target.parentElement;requestAnimationFrame(()=>{a.style.height=`${Math.floor(r.height)+m}px`})}}).observe(s)},computed:{allowResizeClass(){return this.allowResize?"":"input-textarea--no-resize"},autoResizeClass(){return this.autoResize?"input-textarea--autoresize":""}},methods:{resetValue(){return""},input(s){this.value=this.formatInput(s.target.value),this.$emit("input",s.target.value),this.validate(),this.doAutoResize(s)},doAutoResize(s){this.autoResize&&this._doAutoResize(s.target)},_doAutoResize(s){if(!s)return;const o=this._getComputedStyles(s),l=Math.round((s.scrollHeight-o.paddingVertical)/o.lineHeight),p=s.parentElement,r=l*A+m;requestAnimationFrame(()=>{this.currentRows=Math.max(this.rows,l),p.style.height=`${r}px`})},_doInitialAutoResize(s){const o=s.parentElement,l=this.rows*A+m;requestAnimationFrame(()=>{o.style.height=`${l}px`})},_getComputedStyles(s){if(!s.computedStyles){const o=window.getComputedStyle(s);s.computedStyles={lineHeight:Number(o["line-height"].replace("px","")),paddingVertical:Number(o["padding-top"].replace("px",""))+Number(o["padding-bottom"].replace("px",""))}}return s.computedStyles}}},F=E(M,[["render",W]]),G=n("h1",{id:"inputtextarea",tabindex:"-1"},[h("InputTextarea "),n("a",{class:"header-anchor",href:"#inputtextarea","aria-label":'Permalink to "InputTextarea"'},"â€‹")],-1),J=n("p",null,"Not so plain and not so simple input textarea.",-1),j=n("p",null,[h("Has the same API than "),n("a",{href:"/vuersatile-components/components/form/input-text.html"},[n("code",null,"InputText")]),h(".")],-1),L={class:"row"},U={class:"col-12 mb-xs-4"},K=y("",4),Q={class:"row"},X={class:"col-12 mb-xs-4"},Y=y("",3),Z={class:"row"},ss={class:"col-12 mb-xs-4"},as=y("",3),ns={class:"row"},ls={class:"col-12 mb-xs-4"},os=y("",2),gs=JSON.parse('{"title":"InputTextarea","description":"","frontmatter":{},"headers":[],"relativePath":"components/form/input-textarea.md","lastUpdated":1681324999000}'),es={name:"components/form/input-textarea.md"},Es=Object.assign(es,{setup(s){return(o,l)=>(i(),C("div",null,[G,J,j,e(D,null,{default:t(()=>[e(c,null,{default:t(()=>[n("div",L,[n("div",U,[e(F,{name:"comments",label:"CV summary",placeholder:"Write here the summary of your employment history",autoResize:!1,validations:["not-empty"]})])])]),_:1})]),_:1}),K,e(D,null,{default:t(()=>[e(c,null,{default:t(()=>[n("div",Q,[n("div",X,[e(F,{name:"comments",label:"CV summary",placeholder:"Write here the summary of your employment history",validations:["not-empty"]})])])]),_:1})]),_:1}),Y,e(D,null,{default:t(()=>[e(c,null,{default:t(()=>[n("div",Z,[n("div",ss,[e(F,{name:"comments",label:"CV summary",placeholder:"Write here the summary of your employment history",allowResize:"",autoResize:!1,validations:["not-empty"]})])])]),_:1})]),_:1}),as,e(D,null,{default:t(()=>[e(c,null,{default:t(()=>[n("div",ns,[n("div",ls,[e(F,{name:"comments",label:"CV summary",placeholder:"Write here the summary of your employment history",rows:4,validations:["not-empty"]})])])]),_:1})]),_:1}),os]))}});export{gs as __pageData,Es as default};
