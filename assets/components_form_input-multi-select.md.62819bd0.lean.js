import{C as B}from"./chunks/CheckboxBase.752bcbf2.js";import{I as M}from"./chunks/InputBase.0600d18d.js";import"./chunks/TextareaBase.vue_vue_type_style_index_0_lang.4ed993c7.js";import{B as y,o,c as r,y as E,A as D,x as i,t as C,$ as v,D as t,n as k,_ as q,a1 as L,z as p,a2 as g,a3 as S,F as w,K as x,W as K,Y as T,N as h}from"./chunks/framework.c06bf224.js";import{R as J}from"./chunks/required-input.10ec2602.js";import{I as O}from"./chunks/Button.9f70f9b0.js";import{T as z}from"./chunks/TransitionHeight.d22f811f.js";import{T as U,D as j}from"./chunks/TransitionFadeSelect.e09df0fc.js";import"./chunks/InputMultiSelect.vue_vue_type_style_index_0_lang.4ed993c7.js";import{F as m}from"./chunks/Form.70e16e36.js";import{C as _}from"./chunks/Card.2cd41e23.js";import"./chunks/index.ec15b88a.js";import"./chunks/basic-input.8a1c5aa8.js";import"./chunks/Form.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./chunks/Card.vue_vue_type_style_index_0_lang.4ed993c7.js";function G(s){return s==null}var H=G;const W={class:"tag__text"},Y={key:1,class:"tag__number"};function Q(s,l,a,c,u,e){const F=y("Icon");return o(),r("div",{class:k(["tag",[e.colorClass,e.sizeClass]]),onClick:l[1]||(l[1]=A=>s.$emit("click",A))},[e.TagIcon?(o(),E(F,{key:0,class:"tag__icon",icon:e.TagIcon,variant:a.iconVariant},null,8,["icon","variant"])):D("",!0),i("span",W,C(a.text),1),e.hasNumber?(o(),r("span",Y,C(a.number),1)):D("",!0),a.showCloseButton?(o(),r("button",{key:2,class:"tag__button",type:"button",onClick:l[0]||(l[0]=v(A=>s.$emit("close",A),["prevent"]))},[t(F,{icon:"xmark"})])):D("",!0)],2)}const X="tag",Z={components:{Icon:O},props:{color:{type:String,validator:s=>!s||["amber","orange","red","pink","purple","blue","turquoise","green","lime","greyscale"].includes(s),default:"greyscale"},size:{type:String,default:"s",validator:s=>["s","m"].includes(s)},icon:{type:String,default:null},iconVariant:{type:String,default:"vuersatile"},text:{type:String,required:!0},number:{type:Number,default:null},showCloseButton:{type:Boolean,default:!1}},computed:{colorClass(){return`tag--${this.color}`},sizeClass(){return this.size?`${X}--${this.size}`:""},TagIcon(){return this.icon},hasNumber(){return!H(this.number)}}},$=q(Z,[["render",Q]]),ss=["data-field-name","data-options-state"],ls={key:0,class:"input-multi-select__label-container"},es={key:0,class:"input-multi-select__label"},as={class:"input-multi-select__wrapper"},ns=["name","placeholder"],ts={class:"input-multi-select__selected-container"},os={class:"input-multi-select__selected-wrapper"},ps=["data-select-options"],rs={key:0,class:"input-multi-select__search-bar-wrapper"},cs=["data-item","data-item-key"],is={key:0,class:"input-multi-select__error"};function Ds(s,l,a,c,u,e){const F=y("TransitionHeight"),A=y("Tag"),I=y("Icon"),V=y("InputBase"),R=y("CheckboxBase"),P=y("TransitionFadeSelect"),N=L("click-outside");return o(),r("div",{class:k(["input-multi-select",e.componentClass]),"data-field-name":s.name,"data-options-state":e.dataStateOptions,onKeydown:[l[7]||(l[7]=T((...n)=>e.close&&e.close(...n),["esc"])),l[8]||(l[8]=T((...n)=>e.selectFilteredResults&&e.selectFilteredResults(...n),["enter"]))]},[s.label||a.allowClear?(o(),r("div",ls,[s.label?(o(),r("label",es,C(s.label),1)):D("",!0),a.allowClear?(o(),E(F,{key:1},{default:p(()=>[g(i("button",{class:"input-multi-select__clear-button",type:"button",onClick:l[0]||(l[0]=v((...n)=>e.clear&&e.clear(...n),["prevent"]))},C(s.$t("GENERIC.CLEAR")),513),[[S,e.showClearButton]])]),_:1})):D("",!0)])):D("",!0),g((o(),r("div",as,[i("input",{class:"input-multi-select__input",ref:"input",type:"text",readonly:"readonly",name:s.name,placeholder:e.placeholderMessage,onClick:l[1]||(l[1]=v((...n)=>e.toggle&&e.toggle(...n),["prevent"]))},null,8,ns),i("div",{class:"input-multi-select__content",onClick:l[4]||(l[4]=(...n)=>e.toggle&&e.toggle(...n))},[i("div",ts,[i("div",os,[(o(!0),r(w,null,x(e.optionsSelected,n=>(o(),E(A,{class:"input-multi-select__selected-tag",key:n.key,text:n.label,color:"blue",showCloseButton:!0,onClose:d=>{e.stopPropagation(d),e.unselect(n)},onClick:l[2]||(l[2]=d=>e.stopPropagation(d))},null,8,["text","onClose"]))),128))])]),g(i("span",{class:"input-multi-select__num-selected"},C(e.numSelected),513),[[S,e.hasAnySelected&&e.numSelected>1]]),i("button",{class:"input-multi-select__open-button",type:"button",onClick:l[3]||(l[3]=v(()=>{},["prevent"]))},[t(I,{icon:"chevron-down"})])]),t(P,null,{default:p(()=>[g(i("ul",{class:k(["input-multi-select__option-list",{"input-multi-select__option-list--outside":s.mountOptionsOutside}]),ref:"selectOptions",style:K(s.dropdownStyle),"data-select-options":s.name,onClick:l[6]||(l[6]=(...n)=>e.stopPropagation&&e.stopPropagation(...n))},[a.allowSearch?(o(),r("li",rs,[t(V,{class:"input-multi-select__search-bar",value:u.search,name:"Search",icon:"magnifying-glass",placeholder:s.$t("Search"),onInput:e.inputSearch},null,8,["value","placeholder","onInput"])])):D("",!0),(o(!0),r(w,null,x(e.filteredOptions,(n,d)=>(o(),r("li",{class:"input-multi-select__option-item",key:n.key,"data-item":`${s.name}-${d}`,"data-item-key":n.key},[t(R,{class:"input-multi-select__checkbox",checked:u.selected[n.key],name:`${s.name}-${d}`,label:n.label,disabled:n.disabled,ref_for:!0,ref:e.saveRef(n.key),onClick:l[5]||(l[5]=b=>e.stopPropagation(b,!1)),onChange:b=>e.toggleSelect(b,n)},null,8,["checked","name","label","disabled","onChange"])],8,cs))),128))],14,ps),[[S,u.isOpen]])]),_:1})])),[[N,e.close]]),t(F,null,{default:p(()=>[s.shouldShowErrors?(o(),r("div",is,C(e.errorMessage),1)):D("",!0)]),_:1})],42,ss)}const Fs={components:{TransitionHeight:z,Tag:$,TransitionFadeSelect:U,CheckboxBase:B,InputBase:M,Icon:O},mixins:[J,j],props:{initialValue:{type:Array,default:null},options:{type:Array,default:()=>[]},placeholder:{type:String,default:null},optionValueKey:{type:String,default:"value"},optionLabelKey:{type:String,default:"text"},optionDisabledKey:{type:String,default:"disabled"},allowClear:{type:Boolean,default:!1},allowSearch:{type:Boolean,default:!1}},data(){return{value:[],emptyValue:[],isOpen:!1,selected:{},search:null,algo:{}}},computed:{componentClass(){return{"input-multi-select--open":this.isOpen,"input-multi-select--disabled":this.disabled,"input-multi-select--error":this.shouldShowErrors}},numSelected(){var s;return((s=this.value)==null?void 0:s.length)||0},hasAnySelected(){return!!this.numSelected},showClearButton(){return this.hasAnySelected&&this.allowClear&&!this.disabled},placeholderMessage(){return this.hasAnySelected?null:this.placeholder},dataStateOptions(){return this.isOpen?"open":"closed"},searchFilter(){var s;return((s=this.search)==null?void 0:s.trim())||""},isSearchActive(){return this.allowSearch&&this.searchFilter},errorMessage(){if(this.shouldShowErrors)return this.$t("FORM.ERROR.NOT_EMPTY")},selectableOptions(){const s=[];for(let l=0;l<this.options.length;l++){const a=this.options[l],c=a[this.optionValueKey],u=a[this.optionLabelKey],e=a[this.optionDisabledKey],F=this.getKeyFromValue(c);s.push({value:c,label:u,key:F,disabled:e})}return s},filteredOptions(){if(!this.allowSearch||!this.searchFilter)return this.selectableOptions;const s=this.searchFilter.toLowerCase();return this.selectableOptions.filter(l=>{const a=l.label.toLowerCase();return this.selected[l.key]||a.includes(s)})},optionsSelected(){return this.value.map(s=>this.selectableOptions.find(a=>a.value.id===s.id)||{value:s,label:s,key:s})},isValid(){return this.disabled?!0:!this.required||this.hasAnySelected},dropdownElements(){return{content:this.$refs.selectOptions,sibling:this.$refs.input}}},created(){var s;(s=this.initialValue)!=null&&s.length&&(this.value=[...this.initialValue],this.initialValue.forEach(l=>{const a=this.getKeyFromValue(l);this.selected[a]=!0}))},methods:{saveRef(s){return function(l,a){a.checkboxes||(a.checkboxes={}),a.checkboxes[s]=l}},inputSearch(s){this.search=s.target.value},shouldSetInitialValue(){return!1},_selectOptions(s){s.forEach(a=>{const c=this.$refs.checkboxes[a.key];c&&!c.value&&(c.value=!0)});const l=new Set([...this.optionsSelected,...s].map(a=>a.value));this.value=[...l]},stopPropagation(s,l=!0){s.stopPropagation(),l&&s.preventDefault()},getKeyFromValue(s){return s==null?`empty_${this.name}`:typeof s!="object"?s:s._id||s.id?s._id||s.id:JSON.stringify(s)},change(){this.dirty=!0,this.$emit("change",this.value)},clear(){this.dirty=!0,this.selectableOptions.forEach(s=>{const l=this.$refs.checkboxes[s.key];l&&l.value&&(l.value=!1)}),this.value=[],this.selected={},this.$emit("change",this.value)},all(){this.dirty=!0,this._selectOptions(this.selectableOptions),this.$emit("change",this.value)},toggle(){this.disabled||(this.isOpen=!this.isOpen,this.allowSearch&&!this.isOpen&&(this.search=null),this.mountOptionsOutside&&this.isOpen&&this.mountElement())},close(){this.isOpen=!1,this.search=null},toggleSelect(s,l){this.dirty=!0;const a=s.target.checked;this.selected[l.key]=a,a?this.value.push(l.value):this.value=this.value.filter(c=>c.id!==l.value.id),this.change()},selectFilteredResults(){var s;!this.searchFilter||!((s=this.filteredOptions)!=null&&s.length)||(this.dirty=!0,this._selectOptions(this.filteredOptions),this.$emit("change",this.value),this.close())},unselect(s){this.dirty=!0,this.selected[s.key]=!1,this.value=this.value.filter(l=>l.id!==s.value.id),this.change()},reset(){this.dirty=!1,this.formIsDirty=!1,this.value=[],this.selected={}}}},f=q(Fs,[["render",Ds]]);const ys=h("",4),us=h("",10),ds=h("",4),Cs=h("",3),hs=h("",4),As=h("",2),Rs=JSON.parse('{"title":"InputMultiSelect","description":"","frontmatter":{},"headers":[],"relativePath":"components/form/input-multi-select.md","lastUpdated":1680752179000}'),ms={name:"components/form/input-multi-select.md"},Ps=Object.assign(ms,{setup(s){const l=[{value:{id:1,text:"VUE"},text:"Vue.js"},{value:{id:2,text:"REACT"},text:"React"},{value:{id:3,text:"ANGULAR"},text:"Angular"},{value:{id:4,text:"EMBER"},text:"Ember"},{value:{id:5,text:"SVELTE"},text:"Svelte"},{value:{id:6,text:"AURELIA"},text:"Aurelia"},{value:{id:7,text:"LIT"},text:"Lit/Polymer"}];return(a,c)=>(o(),r("div",null,[ys,t(_,null,{default:p(()=>[t(m,null,{default:p(()=>[t(f,{name:"select",label:"Select one or multiple options",placeholder:"Favourites JavaScript frameworks...",required:"",options:l})]),_:1})]),_:1}),us,t(_,null,{default:p(()=>[t(m,null,{default:p(()=>[t(f,{name:"select",label:"Select one or multiple options",placeholder:"Favourites JavaScript frameworks...",required:"",allowClear:"",options:l})]),_:1})]),_:1}),ds,t(_,null,{default:p(()=>[t(m,null,{default:p(()=>[t(f,{name:"select",label:"Select one or multiple options",placeholder:"Favourites JavaScript frameworks...",allowSearch:"",options:l})]),_:1})]),_:1}),Cs,t(_,null,{default:p(()=>[t(m,null,{default:p(()=>[t(f,{name:"select",label:"Select one or multiple options",placeholder:"Select your favourites JavaScript frameworks...",required:"",options:l})]),_:1})]),_:1}),hs,t(_,null,{default:p(()=>[t(m,null,{default:p(()=>[t(f,{name:"select",label:"Select one or multiple options",placeholder:"Favourites JavaScript frameworks...",mountOptionsOutside:"",options:l})]),_:1})]),_:1}),As]))}});export{Rs as __pageData,Ps as default};
