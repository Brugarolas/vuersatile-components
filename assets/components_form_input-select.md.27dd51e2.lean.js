import"./chunks/TextareaBase.vue_vue_type_style_index_0_lang.4ed993c7.js";import{B as A,a5 as T,o as p,c as F,x as y,t as u,y as I,z as e,H as d,I as f,L as m,A as C,D as a,n as E,F as x,K as k,a2 as S,_ as R,U as c}from"./chunks/framework.1ccf76a1.js";import{I as V}from"./chunks/InputBase.d9e7a2e8.js";import{R as N}from"./chunks/required-input.b3b5ce1e.js";import{B as P}from"./chunks/Button.184a1235.js";import{T as B}from"./chunks/TransitionHeight.c16428d4.js";import{T as j,D as K}from"./chunks/TransitionFadeSelect.9f32e76d.js";import"./chunks/InputSelect.vue_vue_type_style_index_0_lang.4ed993c7.js";import{F as r}from"./chunks/Form.3ebefab6.js";import{C as i}from"./chunks/Card.b69deb87.js";import"./chunks/index.ec15b88a.js";import"./chunks/basic-input.d366dd0e.js";import"./chunks/Form.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./chunks/Card.vue_vue_type_style_index_0_lang.4ed993c7.js";const L=["data-field-name","data-options-state"],M={key:0,class:"input-select__label-wrapper"},H={class:"input-select__label-text"},W=["data-select-options"],G={key:0,class:"input-select__search-wrapper"},U={key:0,class:"input-select__search-actions"},z=["onClick","data-item"],Y={class:"input-select__list-item input-select__list-item--no-result"},J={key:0,class:"input-select__error-message"};function Q(s,l,o,_,h,n){const b=A("TransitionHeight"),g=A("InputBase"),v=A("Button"),q=A("TransitionFadeSelect"),O=T("click-outside");return p(),F("div",{class:E(["input-select",n.componentClass]),"data-field-name":s.name,"data-options-state":n.dataStateOptions,onKeydown:[l[2]||(l[2]=S((...t)=>n.close&&n.close(...t),["esc"])),l[3]||(l[3]=S((...t)=>n.selectFirstResult&&n.selectFirstResult(...t),["enter"]))]},[s.label||o.allowClear?(p(),F("div",M,[y("label",H,u(s.label),1),o.allowClear?(p(),I(b,{key:0},{default:e(()=>[d(y("button",{class:"input-select__label-clear-button",type:"button",onClick:l[0]||(l[0]=f((...t)=>n.clear&&n.clear(...t),["prevent"]))},u(s.$t("GENERIC.CLEAR")),513),[[m,n.showClearButton]])]),_:1})):C("",!0)])):C("",!0),d(a(g,{class:"input-select__list-wrapper",value:n.optionSelected.label,name:`${s.name}-input`,icon:"chevron-down",iconSize:"s",placeholder:n.placeholderMessage,disabled:s.disabled,allowReadOnly:!0,onIconClick:n.toggle,onClick:n.toggle},null,8,["value","name","placeholder","disabled","onIconClick","onClick"]),[[O,n.close]]),a(q,null,{default:e(()=>[d(y("ul",{class:E(["input-select__list",{"input-select__list--outside":s.mountOptionsOutside}]),ref:"selectOptions","data-select-options":s.name},[o.allowSearch?(p(),F("li",G,[a(g,{class:"input-select__search-bar",value:h.search,name:"Search",icon:"magnifying-glass",placeholder:s.$t("GENERIC.SEARCH"),allowReadOnly:o.readOnly,onInput:n.inputSearch,onClick:l[1]||(l[1]=f(()=>{},["stop"]))},null,8,["value","placeholder","allowReadOnly","onInput"]),o.allowAddOptions?(p(),F("div",U,[a(v,{type:"secondary-transparent",text:s.$t("GENERIC.ADD"),disabled:!n.hasSearch,onClick:n.addOption},null,8,["text","disabled","onClick"])])):C("",!0)])):C("",!0),(p(!0),F(x,null,k(n.filteredOptions,(t,w)=>d((p(),F("li",{class:E(["input-select__list-item",{"input-select__list-item--selected":t.key===n.optionSelected.key}]),key:t.key,onClick:f(cs=>n.select(t.value),["stop"]),"data-item":`${s.name}-${w}`},[y("span",null,u(t.label),1)],10,z)),[[m,n.searchHasResults]])),128)),d(y("li",Y,[y("span",null,u(s.$t("GENERIC.NO_RESULTS")),1)],512),[[m,!n.searchHasResults]])],10,W),[[m,h.isOpen]])]),_:1}),a(b,null,{default:e(()=>[s.shouldShowErrors?(p(),F("p",J,u(n.errorMessage),1)):C("",!0)]),_:1})],42,L)}const X={components:{Button:P,InputBase:V,TransitionHeight:B,TransitionFadeSelect:j},mixins:[N,K],props:{initialValue:{type:[Object,String,Number],default:null},options:{type:Array,default:()=>[]},optionValueKey:{type:String,default:"value"},optionLabelKey:{type:String,default:"text"},allowClear:{type:Boolean,default:!1},allowEmpty:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},allowSearch:{type:Boolean,default:!1},allowAddOptions:{type:Boolean,default:!1},clearWhenDisable:{type:Boolean,default:!1},clearWhenOptionsChange:{type:Boolean,default:!1},placeholder:{type:String,default:null}},data(){return{isOpen:!1,value:null,search:null,extraOption:null}},computed:{componentClass(){return{"input-select--open":this.isOpen}},dataStateOptions(){return this.isOpen?"open":"closed"},hasSelected(){return!!this.value||this.value===0},hasSearch(){return!!this.searchFilter},placeholderMessage(){return this.hasSelected||this.allowEmpty?null:this.placeholder},isValid(){return this.disabled?!0:!this.required||this.allowEmpty||this.hasSelected},showClearButton(){return this.hasSelected&&this.allowClear&&!this.disabled},modificable(){return!this.readOnly&&!this.disabled},valueIsEmpty(){return!this.value&&this.value!==0},allowEmptySelection(){return this.placeholder&&this.allowEmpty},emptyOption(){return{[this.optionValueKey]:{id:null,text:null},[this.optionLabelKey]:this.placeholder,key:`empty_${this.name}`}},searchFilter(){var s;return((s=this.search)==null?void 0:s.trim())||""},selectableOptions(){const s=this.formatOptions();return this.allowEmptySelection&&s.unshift(this.emptyOption),this.allowAddOptions&&this.extraOption&&s.push(this.extraOption),s},filteredOptions(){if(!this.allowSearch||!this.searchFilter)return this.selectableOptions;const s=this.searchFilter.toLowerCase();return this.selectableOptions.filter(l=>l.label.toLowerCase().includes(s))},optionSelected(){if(this.allowEmptySelection&&this.valueIsEmpty)return this.emptyOption;if(this.valueIsEmpty)return{};const s=this.selectableOptions.find(l=>l.value.id===this.value.id);return!s&&!this.value?{}:s||{value:this.value,label:this.value,key:this.value}},errorMessage(){if(this.shouldShowErrors)return this.$t("FORM.ERROR.NOT_EMPTY")},dropdownElements(){return{content:this.$refs.selectOptions,sibling:this.$refs.input}},searchHasResults(){var s;return!!((s=this.filteredOptions)!=null&&s.length)}},watch:{disabled:{handler(s){s&&this.clearWhenDisable&&(this.value=null)}},options:{handler(s){var l;this.clearWhenOptionsChange&&(((l=s==null?void 0:s.last())==null?void 0:l[this.optionLabelKey])===this.search?this.value=this.search:this.value=null)},deep:!0}},methods:{close(){this.isOpen=!1,this.search=null},inputSearch(s){this.search=s.target.value},formatOptions(){return this.options.map(l=>{const o=l[this.optionValueKey],_=l[this.optionLabelKey],h=this.getKeyFromValue(o);return{value:o,label:_,key:h}})},shouldSetInitialValue(){return!!this.initialValue||this.initialValue===0},getKeyFromValue(s){return s==null?`empty_${this.name}`:typeof s!="object"?s:s._id||s.id?s._id||s.id:JSON.stringify(s)},toggle(s){s==null||s.stopPropagation(),s==null||s.preventDefault(),this.modificable&&(this.isOpen=!this.isOpen,this.allowSearch&&!this.isOpen&&(this.search=null),this.mountOptionsOutside&&this.isOpen&&this.mountElement())},clear(){this.dirty=!0,this.value=null,this.$emit("change",null)},select(s){if(this.value===s){this.close();return}this.dirty=!0,this.value=s,this.$emit("change",this.value),this.close()},selectFirstResult(){var l;if(!this.searchFilter||!((l=this.filteredOptions)!=null&&l.length))return;const s=this.filteredOptions[0];this.select(s.value)},addOption(){this.allowSearch&&(this.extraOption={[this.optionValueKey]:{id:`extra_${this.search}`,text:this.search},[this.optionLabelKey]:this.search,key:`extra_${this.search}`},this.value=this.search,this.$emit("click",this.search))}}},D=R(X,[["render",Q]]);const Z=c("",5),$=c("",9),ss=c("",4),ls=c("",4),as=c("",6),ns=c("",4),es=c("",7),os=c("",4),ts=c("",2),bs=JSON.parse('{"title":"InputSelect","description":"","frontmatter":{},"headers":[],"relativePath":"components/form/input-select.md","lastUpdated":1680998659000}'),ps={name:"components/form/input-select.md"},gs=Object.assign(ps,{setup(s){const l=[{value:{id:1,text:"WORKER"},text:"I'm a worker"},{value:{id:2,text:"FREELANCE"},text:"I'm a freelance"},{value:{id:3,text:"COMPANY"},text:"I'm a company"},{value:{id:4,text:"OTHER"},text:"None of the above"}];return(o,_)=>(p(),F("div",null,[Z,a(i,null,{default:e(()=>[a(r,null,{default:e(()=>[a(D,{name:"select",label:"Select an option",placeholder:"Select a job...",required:"",options:l})]),_:1})]),_:1}),$,a(i,null,{default:e(()=>[a(r,null,{default:e(()=>[a(D,{name:"select",label:"Select an option",placeholder:"Select a job...",required:"",allowClear:"",options:l})]),_:1})]),_:1}),ss,a(i,null,{default:e(()=>[a(r,null,{default:e(()=>[a(D,{name:"select",label:"Select an option",placeholder:"Select a job...",allowEmpty:"",options:l})]),_:1})]),_:1}),ls,a(i,null,{default:e(()=>[a(r,null,{default:e(()=>[a(D,{name:"select",label:"Select an option",placeholder:"Select a job...",readOnly:"",options:l,initialValue:l[0].value},null,8,["initialValue"])]),_:1})]),_:1}),as,a(i,null,{default:e(()=>[a(r,null,{default:e(()=>[a(D,{name:"select",label:"Select an option",placeholder:"Select a job...",allowSearch:"",options:l})]),_:1})]),_:1}),ns,a(i,null,{default:e(()=>[a(r,null,{default:e(()=>[a(D,{name:"select",label:"Select an option",placeholder:"Select a job...",allowSearch:"",allowAddOptions:"",options:l})]),_:1})]),_:1}),es,a(i,null,{default:e(()=>[a(r,null,{default:e(()=>[a(D,{name:"select",label:"Select an option",placeholder:"Select your current job status...",required:"",options:l})]),_:1})]),_:1}),os,a(i,null,{default:e(()=>[a(r,null,{default:e(()=>[a(D,{name:"select",label:"Select an option",placeholder:"Select a job...",mountOptionsOutside:"",options:l})]),_:1})]),_:1}),ts]))}});export{bs as __pageData,gs as default};
